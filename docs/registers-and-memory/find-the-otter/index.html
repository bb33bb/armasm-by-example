<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Do you like otters? I like otters.  Using the below starter code, write 'OTTER' to stdout.
">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="Program 3: Find the Otter">
<meta property="og:description" content="Do you like otters? I like otters.  Using the below starter code, write 'OTTER' to stdout.
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://armasm.com/docs/registers-and-memory/find-the-otter/"><meta property="article:section" content="docs">
<title>Program 3: Find the Otter | ARM Assembly By Example</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.cdf1d3339ad599910ecaf0b922791999eccee31382959665fd94442ac92b40e9.js integrity="sha256-zfHTM5rVmZEOyvC5InkZmezO4xOClZZl/ZREKskrQOk=" crossorigin=anonymous></script>
<style>.blink_text{animation:.5s blinker linear infinite;color:red}@keyframes blinker{0%{opacity:1}50%{opacity:0}100%{opacity:1}}</style>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>ARM Assembly By Example</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li class=book-section-flat>
<span>Getting to Hello World</span>
<ul>
<li>
<a href=/docs/getting-to-hello-world/basics/>The Basics</a>
</li>
<li>
<a href=/docs/getting-to-hello-world/exiting/>Program 1: Exiting</a>
</li>
<li>
<a href=/docs/getting-to-hello-world/hello-world/>Program 2: Hello World</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Registers and Memory</span>
<ul>
<li>
<a href=/docs/registers-and-memory/register-overview/>Register Overview</a>
</li>
<li>
<a href=/docs/registers-and-memory/memory-overview/>Memory Overview</a>
</li>
<li>
<a href=/docs/registers-and-memory/find-the-otter/ class=active>Program 3: Find the Otter</a>
</li>
<li>
<a href=/docs/registers-and-memory/memory-copy/>Program 4: Memory Copy</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Branches and Conditionals</span>
<ul>
<li>
<a href=/docs/branches-and-conditionals/conditionals/>Conditionals</a>
</li>
<li>
<a href=/docs/branches-and-conditionals/branches-and-loops/>Branches and Loops</a>
</li>
<li>
<a href=/docs/branches-and-conditionals/hello-world-revisited/>Program 5: Hello World Revisited</a>
</li>
<li>
<a href=/docs/branches-and-conditionals/sticky-keyboard/>Program 6: Sticky Keyboard</a>
</li>
<li>
<a href=/docs/branches-and-conditionals/inspecting-our-program/>Inspecting Our Program</a>
</li>
<li>
<a href=/docs/branches-and-conditionals/cloning-myself/>Program 7: Cloning Myself</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Arithmetic</span>
<ul>
<li>
<a href=/docs/arithmetic/errors-and-tests/>Errors and Tests</a>
</li>
<li>
<a href=/docs/arithmetic/datatypes/>Datatypes</a>
</li>
<li>
<a href=/docs/arithmetic/multiplication/>Multiplication</a>
</li>
<li>
<a href=/docs/arithmetic/itoa/>Program 8: ITOA</a>
</li>
<li>
<a href=/docs/arithmetic/the-stack/>The Stack</a>
</li>
<li>
<a href=/docs/arithmetic/factorial/>Program 9: Factorials</a>
</li>
<li>
<a href=/docs/arithmetic/sum-of-squares/>Program 10: Sum of Squares</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Bit Operations</span>
<ul>
<li>
<a href=/docs/bit-operations/signed-numbers/>Signed Numbers</a>
</li>
<li>
<a href=/docs/bit-operations/positivty/>Program 11: All Positivity</a>
</li>
<li>
<a href=/docs/bit-operations/exorcise/>Exorcise and bicycle orr...</a>
</li>
<li>
<a href=/docs/bit-operations/ok-be-negative/>Program 12: Ok, Be Negative</a>
</li>
<li>
<a href=/docs/bit-operations/xor-cipher/>Program 13: XOR Cipher</a>
</li>
<li>
<a href=/docs/bit-operations/shifting/>Shifting and Rotating</a>
</li>
<li>
<a href=/docs/bit-operations/hex-and-love/>Program 14: Hex and Love</a>
</li>
<li>
<a href=/docs/bit-operations/unsale/>Program 15: The Un-sale</a>
</li>
<li>
<a href=/docs/bit-operations/64-bit-math/>Program 16: 64-bit Math</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Working in Linux</span>
<ul>
<li>
<a href=/docs/working-in-linux/add-the-arguments/>Program 17: Add the Arguments</a>
</li>
<li>
<a href=/docs/working-in-linux/add-the-inputs/>Program 18: Add the Inputs</a>
</li>
<li>
<a href=/docs/working-in-linux/add-the-file/>Program 19: Add the File</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Appendix A: VFP Coprocessor</span>
<ul>
<li>
<a href=/docs/fpu/overview/>FPU Overview</a>
</li>
<li>
<a href=/docs/fpu/here-to-there/>Program 20: Here to There</a>
</li>
</ul>
</li>
<li class=book-section-flat>
<span>Appendix B: NEON Coprocessor</span>
<ul>
<li>
<a href=/docs/neon/overview/>NEON Overview</a>
</li>
<li>
<a href=/docs/neon/bus-rider/>Program 21: Bus Rider</a>
</li>
</ul>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Program 3: Find the Otter</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#add-operation>ADD operation</a></li>
<li><a href=#str-b-operation>STR(-B) operation</a></li>
<li><a href=#accessing-values-in-memory>Accessing Values in Memory</a></li>
<li><a href=#reserving-space-pt-1>Reserving Space, Pt. 1</a></li>
</ul>
</nav>
</aside>
</header>
<article class=markdown>
<h1>
<a href=/docs/registers-and-memory/find-the-otter/ style=color:#000>Program 3: Find the Otter</a>
</h1>
<h2 id=add-operation>
ADD operation
<a class=anchor href=#add-operation>#</a>
</h2>
<p>You will focus on math heavy concepts later, but for now you do need one operator
to increment for things like memory addresses and loops. Also, you may have guessed
that the ADD opcode adds two numbers. Both of these formats are exactly the same.</p>
<div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-armasm data-lang=armasm>    add     <span style=color:#cb4b16>r0</span>, <span style=color:#cb4b16>r1</span>, <span style=color:#cb4b16>r2</span>      <span style=color:#93a1a1;font-style:italic>@ Add r1 and r2 and store in r0 
</span><span style=color:#93a1a1;font-style:italic></span>    add     <span style=color:#cb4b16>r1</span>, <span style=color:#cb4b16>r2</span>          <span style=color:#93a1a1;font-style:italic>@ Add r1 and r2 and store in r1 
</span></code></pre></div><h2 id=str-b-operation>
STR(-B) operation
<a class=anchor href=#str-b-operation>#</a>
</h2>
<p>STR is the opposite of LDR. As such, STR takes a value in a register and inserts
it into memory. Remember that registers are 32-bit values and that STR, by default,
will write the complete 32-bit value to memory. In the next exercise we only should
be moving a single byte as opposed to the full 4 bytes. We can do this; both with
LDR and STR, by appending a -B suffix, we can work on single bytes at a time.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p>
<h2 id=accessing-values-in-memory>
Accessing Values in Memory
<a class=anchor href=#accessing-values-in-memory>#</a>
</h2>
<p>When you used a memory address in the &ldquo;Hello World!&rdquo; exercise, we took the address
and provided it to the supervisor (the operating system) and it read the data in
memory for us and wrote it to STDOUT. If <em>YOU</em> want to access the data at an address,
you need to use the register but with brackets around the register number.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p>
<div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-armasm data-lang=armasm>    mov         <span style=color:#cb4b16>r0</span>, #&#39;<span style=color:#2aa198>A</span>&#39;        <span style=color:#93a1a1;font-style:italic>@ load the value of A into r0 
</span><span style=color:#93a1a1;font-style:italic></span>    ldr         <span style=color:#cb4b16>r1</span>, =<span style=color:#268bd2>outstr</span>     <span style=color:#93a1a1;font-style:italic>@ load address of outstr into r1 
</span><span style=color:#93a1a1;font-style:italic></span>    strb        <span style=color:#cb4b16>r0</span>, [<span style=color:#cb4b16>r1</span>]        <span style=color:#93a1a1;font-style:italic>@ store the first byte in r0 into the address 
</span><span style=color:#93a1a1;font-style:italic></span>                                <span style=color:#93a1a1;font-style:italic>@ starting at r1 
</span><span style=color:#93a1a1;font-style:italic></span>    strb        <span style=color:#cb4b16>r0</span>, <span style=color:#cb4b16>r1</span>          <span style=color:#93a1a1;font-style:italic>@ Does not work  
</span></code></pre></div><h2 id=reserving-space-pt-1>
Reserving Space, Pt. 1
<a class=anchor href=#reserving-space-pt-1>#</a>
</h2>
<p>The last thing you need to know before going into this exercise is how to ask the
computer to put a little space aside for the program to use. For now, use the data
section and create a string full of spaces. You can even put the line ending there
BEFORE writing the program as we already know the length of the output before you
start.</p>
<div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-armasm data-lang=armasm><span style=color:#dc322f;font-weight:700>.data</span> 
<span style=color:#268bd2>outstr</span>:<span style=color:#dc322f;font-weight:700>     .ascii      </span>&#34;<span style=color:#2aa198>     \n</span>&#34; 
</code></pre></div><section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>Worth noting, although not used throughout the overall course, that you can
also use -H for moving a half word worth of data. (2 bytes)&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>I think about it this way. Your friend gives you the address of their house. You
find the address but you still need to go into the house. You can&rsquo;t just go into
the address. The brackets are what allow you to go to the house. Eccentric? Yes, but it helps me.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
<hr>
<h2>Program 3: Find the Otter Video </h2>
<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden>
<iframe src=https://www.youtube.com/embed/KrmUX0EKPnE style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe>
</div>
<div style=width:100%;display:flex;flex-direction:column>
<div style="flex:1 0;padding-bottom:16px">
<div style="display:flex;flex:1 0 auto;flex-direction:column">
<div style=font-weight:700>Description of Program</div>
<div>Do you like otters? I like otters. Using the below starter code, write &lsquo;OTTER&rsquo; to stdout.</div>
</div>
</div>
<div style=display:flex;flex-direction:row>
<div style="display:flex;flex:1 0 auto;flex-direction:column">
<div style=font-weight:700>Template/Input</div>
<div>
<a href=https://github.com/gpit2286/armasm-by-example/tree/master/03-find-the-otter/template>Github</a>
</div>
</div>
<div style="display:flex;flex:1 0 auto;flex-direction:column">
<div style=font-weight:700>Completed Code</div>
<div><a href=https://github.com/gpit2286/armasm-by-example/tree/master/03-find-the-otter>Github</a></div>
</div>
<div style="display:flex;flex:2 0 auto;flex-direction:column">
<div style=font-weight:700>Expected Output</div>
<div>
<pre style=margin:0;padding-top:4px;width:auto>OTTER</pre>
</div>
</div>
</div>
</div>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){if(window.getSelection().toString())return;a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#add-operation>ADD operation</a></li>
<li><a href=#str-b-operation>STR(-B) operation</a></li>
<li><a href=#accessing-values-in-memory>Accessing Values in Memory</a></li>
<li><a href=#reserving-space-pt-1>Reserving Space, Pt. 1</a></li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>